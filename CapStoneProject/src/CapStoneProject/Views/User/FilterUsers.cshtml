@model List<UserIdentity>

@{
    Layout = "_Layout2";
}


<div class="container" id="formDiv">
    <div class="row">
        
        <div class="col-lg-12">
           
                    <br />
                    <form asp-controller="User" asp-action="FilterUsers" class="pull-right">
                        <p>
                            <input type="text" name="SearchString">
                            <input type="submit" value="Filter" />
                        </p>
                    </form>
                    @*<h4>Create a New Client <a class="btn btn-primary" asp-action="Create">Create</a> </h4>*@
                    <table class="table table-striped table-bordered table-condensed">
                        <tr><th>Create Client</th><th>Email</th></tr>
                        @if (Model.Count() == 0)
            {
                            <tr><td colspan="3" class="text-center">No Users</td></tr>
                        }
                        else
                        {
                            foreach (IdentityUser u in Model)
                            {
                                <tr>
                                    <td>
                                        
                                        @if (u.ClientCreated == false)
                                        {
                                            <form asp-action="AdminCreateClient" asp-controller="Client" asp-route-id=@u.UserName method="post">

                                                <input type="hidden" name="ClientID" value="@u.UserName" />
                                                <button type="submit"
                                                        class="btn btn-sm btn-primary">
                                                    Create Client
                                                </button>
                                            </form>

                                        }
                                        
                                        
                                    </td>
                                    <td>@u.Email</td>
                                </tr>
                            }
                        }
                    </table>

           
        </div>
        
    </div>
</div>

